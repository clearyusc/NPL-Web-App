@using SimpleWebApp.Repository;
@model List<Encounter>
@{
    ViewData["Title"] = "Dashboard";
}

<style>
    .badge-prayer {
        background-color: #e6e6e6 !important;
    }

    .badge-testimony {
        background-color: #269abc !important;
    }

    .badge-gospel {
        background-color: #204d74 !important;
    }

    .badge-red-lights {
        background-color: #d9534f !important;
    }

    .badge-yellow-lights {
        background-color: #f0ad4e !important;
    }

    .badge-green-lights {
        background-color: #5cb85c !important;
    }
</style>
<div class="content-padded">
    <h1>Dashboard Summary</h1>
    <span class="badge badge-prayer">@ViewData["PrayCount"]</span>
    <span class="badge badge-testimony">@ViewData["TestimonyCount"]</span>
    <span class="badge badge-gospel">@ViewData["GospelCount"]</span>
    <span class="badge badge-red-lights">@ViewData["RedCount"]</span>
    <span class="badge badge-yellow-lights">@ViewData["YellowCount"]</span>
    <span class="badge badge-green-lights">@ViewData["GreenCount"]</span>

    <h2>Encounters List</h2>
    <hr />
    @foreach (var encounter in Model)
    {
        // Todo: Move this into the Controller? or a viewmodel?
        string actionString = "";
        foreach (var action in encounter.MinistryActions)
        {
            actionString += " " + (action.ToString());
        }

        <h4>@encounter.PersonEncountered.FirstName</h4>
        <ul>
            <li>@actionString</li>
            <li>@encounter.MinistryResponse</li>
            <li>@encounter.Notes</li>
            <li>@encounter.Timestamp</li>
        </ul>
    }

</div>